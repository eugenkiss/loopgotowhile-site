<!doctype html>
<head>
  <meta charset="utf-8">
  <title>Loop, Goto & While</title>
  <meta name="description" content="Interpreters for three simple programming languages">
  <meta name="author" content="Eugen Kiss">
  <!-- Code Mirror -->
  <link rel="stylesheet" href="codemirror/codemirror.css">
  <link rel="stylesheet" href="codemirror/theme.css">
  <!-- End of Code Mirror -->
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div id="container">
    <header>
    Loop, Goto &amp; While
    </header>
    <nav id="sidebar">
      <ul>
      <li><a href="#source-form">Try your code!</a>
      <li><a href="#about">About</a>
      <li><a href="#specifications">Specifications</a>
        <ul>
        <li><a href="#loop">Loop</a>
          <ul>
          <li><a href="#loop-syntax">Syntax</a>
          <li><a href="#loop-semantics">Semantics</a>
          <li><a href="#loop-extensions">Extensions</a>
          </ul>
        <li><a href="#goto">Goto</a>
          <ul>
          <li><a href="#goto-syntax">Syntax</a>
          <li><a href="#goto-semantics">Semantics</a>
          <li><a href="#goto-extensions">Extensions</a>
          </ul>
        <li><a href="#while">While</a>
          <ul>
          <li><a href="#while-syntax">Syntax</a>
          <li><a href="#while-semantics">Semantics</a>
          <li><a href="#while-extensions">Extensions</a>
          </ul>
        </ul>
      <li><a href="#exercises">Exercises</a>
      <ul>
    </nav>
    <hr/>
    <div id="main" role="main">
      <form enctype="multipart/form-data" method="POST" id="source-form" action="/loop/extended">
        <div style="float:right;padding-top:0.5em;">
          Input language is
          <select name="language" id="source-lang">
            <option value="loop">Loop</option>
            <option value="goto">Goto</option>
            <option value="while">While</option>
          </select>
          <label><input type="checkbox" name="strict" value="strict" id="strict"/>strict</label>
        </div><br/><br/>
        <textarea name="source" id="source-code" rows="20"></textarea><br>
        <div style="float:left">
          <input type="submit" value="Run" id="run"/>
          with args 
          <input name="args" type="text" id="source-args" size="16"/>
        </div>
        <div style="float:right">
          <input type="submit" value="Transform" id="transform"/> into
          <select name="language" id="target-lang">
          <option value="strict">Strict</option>
          <option value="loop">Loop</option>
          <option value="goto">Goto</option>
          <option value="while">While</option>
          </select>
        </div>
      </form>
      <div style="clear:both;height:20px"></div>

      Output:<br>
      <textarea name="source" id="output" rows="10" readonly="readonly"></textarea>

<!-- Content -->
<h1 id="about">About</h1>

<p>This site contains an evaluation service, exercises and the specifications
for the programming languages <i>Loop, Goto & While</i>. You never heard of 
them, you say? No problem, that's what this about section was made for.</p>

<p>The languages are taken from 
<a href="http://www.thi.uni-hannover.de/en/homepage/people/heribert-vollmer/">Prof Dr. Heribert Vollmer</a>'s
lecture notes for his introductory course in theoretical computer science. They
are modeled to feel similar to common imperative programming languages but they 
are delibaretly greatly simplified. Their purpose was to provide formal 
semantics for the specification of algorithms. Moreover, they were used to show
the equivalence of turing complete languages.</p> 

<p>There was no executable implementation of these languages to my knowledge. 
Frankly, why should there have been? Their purpose didn't require that. However,
<a href="http://eugenkiss.com/about/">I</a> thought it would be an interesting 
exercise to create exectuable implementations for these languages. Even more so 
as I always wanted to create an executable implementation of a programming 
language and it was the perfect opportunity to get to know Haskell better
(as the parsers/transformer/evaluators and the web evaluation service are 
written in Haskell). Have a look at the
<a href="https://github.com/eugenkiss/loopgotowhile">source code of this site</a>, the 
<a href="https://github.com/eugenkiss/loopgotowhile-site">source code of the interpreters</a> or the
<a href="http://eugenkiss.com/blog/2011/loop-goto-and-while/">blog post about this project</a>
if you are interested.<p>

<p>But what can you do on this site as an, perhaps, accidental visitor if you 
never took said introductory course? You can, as a brain exercise, do some of
the exercises I provided at the bottom of this site!</p> 

<p>By the way, you can provide a comma separated list of arguments to your
program. For example, an argument list <code>1,4,100</code> is equivalent to
prepending <code>x1 := 1; x2 := 4; x3 := 100</code> at the top of your
source file.<p>


<h1 id="specifications">Specifications</h1>
<p>These are the specifications for the programming languages <i>Loop, Goto
& While</i> in strict and extended versions. The specifications of the strict
versions are taken from Prof Dr. Heribert Vollmer's lecture notes for his
introductory course in theoretical computer science. You need to know how to
write programs which will be accepted by the evaluation service after all,
don't you? Remember, with either language you can only compute functions whose
domain and codomain are the natural numbers!</p>


<h2 id="loop">Loop</h2>

<h3 id="loop-syntax">Syntax</h3>

<h3 id="loop-semantics">Semantics</h3>

<h3 id="loop-extensions">Extensions</h3>


<h2 id="goto">Goto</h2>

<h3 id="goto-syntax">Syntax</h3>

<h3 id="goto-semantics">Semantics</h3>

<h3 id="goto-extensions">Extensions</h3>


<h2 id="while">While</h2>

<h3 id="while-syntax">Syntax</h3>

<h3 id="while-semantics">Semantics</h3>

<h3 id="while-extensions">Extensions</h3>
<p>while head can have bexp, rest like loope</p>


<h1 id="exercises">Exercises</h1>
<p>You do not really know what to do on this website? Fear not, for I have
a quest for you whose accomplishment will award you with enlightment and
invincibility! To solve this quest you must simply solve each exercise to the
best of your knowledge. All answers to this questions can be found out by
either thinking, executing/transforming code with the evaluation service or by
looking at <a href="https://github.com/eugenkiss/loopgotowhile">the source code
of the interpreters</a>. You are allowed to use the knowledge from previous
exercises, e.g. if you showed how an <code>IF</code> can be transformed into
strict Loop program you can use this knowledge throughout the following 
exercises unless it is explicitly forbidden in an exercise.<p>

<p>Various sources for the exercises have been used. Some of exercises were my
idea whereas others were taken from the exercises of Prof Dr. Heribert
Vollmer's introductory course in theoretical computer science and yet others
from <a href="http://projecteuler.net/">Project Euler</a>.</p>

<ol>
<li>
<p>What is the general algorithm for correctly altering the labels when 
transforming an extended Goto program to the strict version?<p>

<p>Try your algorithm on this code:<p>
 
<pre>
- TODO: put this code with a special case here (see tests but simpler)
</pre>

<p>To test if your transformation was correct simply compare the output of the
given code with the transformed code.<p>

<li>
- Focus on Loop, mix the order so that not 5 of a category in a row,
only allow the features to use for writing code when transform to strict
was done for that feature
- ~ 5 write some code (euler, gti etc.)
- ~ 2 guess some code
- ~ 10 transform to strict (IF, arith)
  - IF a && b then...
  - IF a || b then...
  - arithemtic expressions like x0 := x1 + x2
  - Loop aexp DO ...
- Focus on while
- Give an example of a while program that cannot be transformed to loop.
- ~ 2 write some code
- ~ 1 guess some code
- Focus on goto
- ~ 2 write some code
- ~ 1 guess some code (gti)
- how can to transform "IF xy THEN HALT END" to strict?
- this question about relabeling
- Alle drei susammen
- transform loop loop to while/goto
- how does the general transformation from while to goto work?
- how does the general transformation from goto to while work?
- Bonus: which of the languages are turing-complete? Proof in each case wether
it is or not.
</ol>
<!-- End of Content -->
    </div>
    <footer>
    <hr/>
    <a href="https://github.com/eugenkiss/loopgotowhile">Source Code of the site</a> &bull;
    <a href="https://github.com/eugenkiss/loopgotowhile-site">Source Code of the interpreters</a> &bull;
    <a href="http://eugenkiss.com/blog/2011/loop-goto-and-while/">Blog Post about this project</a>
    </footer>
  </div> 

  <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.6.1.min.js">\x3C/script>')</script>
  <!-- Code Mirror -->
  <script src="codemirror/codemirror.js"></script>
  <script src="codemirror/loop.js"></script>
  <script src="codemirror/loop-strict.js"></script>
  <script src="codemirror/goto.js"></script>
  <script src="codemirror/goto-strict.js"></script>
  <script src="codemirror/while.js"></script>
  <script src="codemirror/while-strict.js"></script>
  <!-- End of Code Mirror -->

  <script>
  $(document).ready(function(){

    /****** Code Mirror ******/
    var myCodeMirror = CodeMirror.fromTextArea($("#source-code").get(0), {
      lineNumbers: true,
      matchBrackets: true,
      enterMode: "keep",
      tabMode: "shift",
      theme: "theme",
      mode: "loop"
    });

    /****** Ajax ******/ 
    var output = $("#output");
    
    $("#run").click(function(){
      myCodeMirror.save();
      var sourceCode = $("#source-code").val();
      var args = $("#source-args").val();
      var lang = $("#source-lang").val();
      var url = lang + "/";
      if ($("#strict").attr("checked")) {
        url += "strict";
      }
      else {
        url += "extended";
      }
      $.ajax({
        type: "POST",
        url: url,
        data: { source: sourceCode, args: args },
        success: function(data) {
          output.val(data);
          if(output.hasClass("red")) {
            output.removeClass("red");
          }
        },
        error: function(xhr) {
          output.val("Error: " + xhr.responseText);
          if(!output.hasClass("red")) {
            output.addClass("red");
          }
        }
      });
      return false;
    });

    $("#transform").click(function(){
      myCodeMirror.save();
      var sourceCode = $("#source-code").val();
      var sourceLang = $("#source-lang").val();
      var targetLang = $("#target-lang").val();
      var url = sourceLang + "/to/" + targetLang;
      //alert(url);
      $.ajax({
        type: "POST",
        url: url,
        data: { source: sourceCode },
        success: function(data) {
          output.val(data);
          if(output.hasClass("red")) {
            output.removeClass("red");
          }
        },
        error: function(xhr) {
          output.val("Error: " + xhr.responseText);
          if(!output.hasClass("red")) {
            output.addClass("red");
          }
        }
      });
      return false;
    });

    /****** Smooth Scrolling ******/
    $("nav a").click(function(event){		
      event.preventDefault();
      $('html,body').animate({scrollTop:$(this.hash).offset().top}, 500);
    });

  });
  </script>
</body>
</html>
